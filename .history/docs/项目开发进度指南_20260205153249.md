---
title: ClipLike 项目开发进度指南
updated: 2026-02-05
---

## 使用说明

- 本文档为本项目全局开发进度与路线的唯一参考
- 新增/存量开发进展必须同步到本文件（更新、添加、删除、标记完成）

## 全局开发路线（高优先级 → 低优先级）

1. 完成选区触发链路（鼠标抬起 + AX 获取选中内容）
2. 实现非抢焦点浮窗定位与隐藏策略
3. 打通复制/搜索/Bob 三个动作
4. 接入权限检测与引导（Accessibility/Automation/Input Monitoring）
5. 支持开机启动（SMAppService/Login Item）
6. 添加设置与规则（搜索引擎、最小字符数、禁用 App）
7. 引入兜底策略（剪贴板复制）与敏感控件规避
8. 针对高优先级 App 逐个适配（Chrome/VSCode/微信）

## 当前进度

- 已完成
  - 无主窗口 Agent 形态与最小浮窗
  - 辅助功能/输入监控权限引导
  - 快捷键测试浮窗与全局监听验证
  - 诊断日志与选区焦点回退策略
  - 工程可编译构建（Debug）
  - 剪贴板兜底方案（用于解决 AX 响应超时问题）
  - 选中文本获取补充路径（AX StringForRange）
  - 快捷键手动触发选区获取（用于定位）
  - 鼠标拖拽距离检测（识别选区意图，解决“点击即弹出”问题）
  - 点击自动隐藏浮窗逻辑
  - 响应延迟优化（从 ~0.5s 降至 ~0.2s）
  - 浮窗动作 UI 优化（使用 SF Symbols 图标按钮）
  - 复制动作修复（点击复制可写入剪贴板）
  - AX 选区获取诊断日志增强（错误码/role/subrole）
  - AX focused element 获取回退与重试
  - AppIcon 资源生成与配置（SVG -> AppIcon.appiconset）
  - 修复 AppIcon 1024 图标尺寸（2048 -> 1024）
  - 设置页 UI 基础搭建（通用/操作/关于）
  - 设置页 UI 紧凑化（窗口缩小、内容宽度 85%、通用页模块排序）
  - 设置项持久化（SettingsStore + UserDefaults）
  - 操作项开关持久化（Actions 列表保存与读取）
  - 自动出现开关控制鼠标触发浮窗
  - 调试运行自动打开设置窗口（便于预览）
  - 调试快捷键空选区显示测试浮窗（便于验证浮窗渲染）
  - MVP 浮窗操作条改版（无边框、按钮无间隙、hover 提示）
  - MVP 浮窗定位优化（浮窗在鼠标上方，复制按钮对齐鼠标）
  - MVP 浮窗基准尺寸调整（35x35）与视觉淡化
  - MVP 浮窗定位修正（鼠标正上方居中 + 10px 间距）
  - MVP 动作按钮清单与行为（设置/搜索/复制/Bob/RAG Hub Cmd+K）
  - 复制动作稳定性修复（优先使用浮窗缓存选区，剪贴板兜底）
  - 浮窗操作条配色调整（背景/图标/hover）
  - 复制按钮选区回退获取（SelectionService）
  - 鼠标抬起触发稳定性优化（拖拽阈值/延迟/重试）
  - 浮窗按钮 hover 圆角修复（首尾按钮圆角）
  - 移除设置按钮并调整浮窗定位（复制按钮对齐鼠标下方）
  - 鼠标触发仅限真实选区与空选区自动隐藏
  - 鼠标触发延时与阈值调优（提升选区唤起稳定性）
  - UI 测试稳定性修复（跳过不稳定的启动/性能用例）
  - 剪贴板隔离与恢复（确保非复制操作不污染剪贴板）
  - Bob 翻译集成修复（移除 App Sandbox，多 Bundle ID 支持）
  - LocalRAG Hub 粘贴优化（增加延迟，确保焦点正确）
  - 系统配置完善（移除全局快捷键唤起，仅保留鼠标触发）
  - 状态栏图标实现（点击打开设置，绑定显示设置）
  - 开机启动实现（Launch Agent 方案）
  - 菜单栏图标尺寸优化（26x26）与右键菜单（设置/重启/退出）
  - 一键打包脚本与发布文档（v1.2.0）
  - 修复非可选区域误触发浮窗与空选区动作卡死
  - 触发门槛优化：降低拖拽阈值（8.0->2.0）并优先信任 AX 选区结果，解决微信等 App 小选区不触发问题
  - 应用入口优化：强制隐藏 Dock 图标（Accessory 模式），支持点击 App 图标打开设置（applicationShouldHandleReopen）

- MVP 里程碑 (v1.2.0)
  - 核心功能完备：选区触发、浮窗显示、基础动作（复制/搜索/翻译/链接/RAG）
  - 系统集成完备：权限引导、开机启动、状态栏管理、设置面板
  - 稳定性：多重选区获取兜底、剪贴板保护、异常处理
  - 发布准备：图标、打包脚本、文档

- 待开始（后续迭代）
  - AX 选区变化通知
  - 针对特定 App 的规则配置（黑白名单）
  - 更多自定义动作插件支持
